{"version":3,"sources":["../../src/renderer/Signup.jsx"],"names":["SIGNUP_FORM_STYLE","margin","padding","CANCEL_BUTTON_STYLE","marginLeft","Signup","props","state","email","password","name","photoURL","errors","handleOnChangeEmail","bind","handleOnChangePassword","handleOnChangeName","handleOnChangePhotoURL","handleOnSubmit","e","setState","target","value","isValid","preventDefault","length","push","auth","createUserWithEmailAndPassword","then","newUser","updateProfile","displayName","catch","err","message","Component"],"mappings":"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","file":"Signup.js","sourcesContent":["import React from \"react\";\nimport { Link, hashHistory } from \"react-router\";\nimport Errors from \"./Errors\";\nimport firebase from \"firebase/firebase-browser\";\n\nconst SIGNUP_FORM_STYLE = {\n\tmargin: \"0 auto\",\n\tpadding: 30\n}\n\nconst CANCEL_BUTTON_STYLE = {\n\tmarginLeft: 10\n}\n\nexport default class Signup extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\tname: \"\",\n\t\t\tphotoURL: \"\",\n\t\t\terrors: []\n\t\t};\n\t\tthis.handleOnChangeEmail = this.handleOnChangeEmail.bind(this);\n\t\tthis.handleOnChangePassword = this.handleOnChangePassword.bind(this);\n\t\tthis.handleOnChangeName = this.handleOnChangeName.bind(this);\n\t\tthis.handleOnChangePhotoURL = this.handleOnChangePhotoURL.bind(this);\n\t\tthis.handleOnSubmit = this.handleOnSubmit.bind(this);\n\t}\n\n\thandleOnChangeEmail(e) {\n\t\tthis.setState({ email: e.target.value });\n\t}\n\n\thandleOnChangePassword(e) {\n\t\tthis.setState({ password: e.target.value });\n\t}\n\n\thandleOnChangeName(e) {\n\t\tthis.setState({ name: e.target.value });\n\t}\n\n\thandleOnChangePhotoURL(e) {\n\t\tthis.setState({ password: e.target.value });\n\t}\n\n\n\t// ログイン処理\n\thandleOnSubmit(e) {\n\t\tconst { email, password, name, photoURL } = this.state;\n\t\tconst errors = [];\n\t\tlet isValid = true;\n\t\te.preventDefault();\n\t\tif(!email.length) {\n\t\t\tisValid = false;\n\t\t\terrors.push(\"Email can`t be blank.\");\n\t\t}\n\t\tif(!password.length) {\n\t\t\tisValid = false;\n\t\t\terrors.push(\"password can`t be blank.\");\n\t\t}\n\t\tif(!name.length) {\n\t\t\tisValid = false;\n\t\t\terrors.push(\"Name can`t be blank.\");\n\t\t}\n\t\tif(!isValid) {\n\t\t\t// 必須入力チェックに該当した場合はエラーを表示する\n\t\t\tthis.setState({ errors });\n\t\t\treturn;\n\t\t}\n\t\t// Firebase のログイン処理\n\t\tfirebase.auth().createUserWithEmailAndPassword(email, password).then((newUser) => {\n\t\t\t// ユーザー情報を更新する\n\t\t\treturn newUser.updateProfile({\n\t\t\t\tdisplayName: name,\n\t\t\t\tphotoURL\n\t\t\t});\n\t\t}).then(() => {\n\t\t\t// チャットルーム一覧画面へ遷移\n\t\t\thashHistory.push(\"/rooms\");\n\t\t}).catch(err => {\n\t\t\t// Firebaseでエラーになった場合になった場合、エラーメッセージを表示する\n\t\t\tthis.setState({ errors: [err.message] });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form style={SIGNUP_FORM_STYLE} onSubmit={this.handleOnSubmit}>\n\t\t\t\t<Errors errorMessages={this.state.errors} />\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Email address*</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\tonChange={this.handleOnChangeEmail}\n\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Password*</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\t\tonChange={this.handleOnChangePassword}\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>User name*</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"user name\"\n\t\t\t\t\t\tonChange={this.handleOnChangeName}\n\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Photo URL</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"photo URL\"\n\t\t\t\t\t\tonChange={this.handleOnChangePhotoURL}\n\t\t\t\t\t\tvalue={this.state.photoURL}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<button className=\"btn btn-large btn-primary\">Create new account</button>\n\t\t\t\t\t<Link to=\"login\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tstyle={CANCEL_BUTTON_STYLE}\n\t\t\t\t\t\t\tclassName=\"btn btn-large btn-default\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t);\n\t}\n}\n"]}